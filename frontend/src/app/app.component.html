<div class="container">
    <div
        class="snackbar"
        [class.show]="(usersOnline$ | async)?.length"
        [innerHTML]="'online: ' + getOnlineUsersText(usersOnline$ | async)"
    ></div>
    <div class="chat" #chatRef>
        <chat-message
            *ngFor="let message of messages"
            [variant]="message.type"
            [message]="message.text"
            [username]="message.username"
            [isMe]="message.isMe || false"
        ></chat-message>
        <chat-message *ngIf="usersTyping.length" [variant]="SocketEvents.TYPING_EVENT" [message]="usersTypingText"></chat-message>
    </div>
    <div class="form-group-wrapper">
        <div class="form-group">
            <input
                class="message-input"
                type="text"
                placeholder="message"
                [(ngModel)]="newMessage"
                (keydown.Enter)="sendMessage()"
                (input)="this.inputHandler()"
            />
            <button class="send-btn" [disabled]="!newMessage" (click)="sendMessage()">Send</button>
            <button class="change-username-btn" (click)="changeUsername()">chng usr</button>
        </div>
    </div>
</div>
